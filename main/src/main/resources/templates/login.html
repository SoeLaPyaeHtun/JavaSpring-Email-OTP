<html>
<head>

    <link href="https://unpkg.com/material-components-web@latest/dist/material-components-web.min.css" rel="stylesheet">
    <script src="https://unpkg.com/material-components-web@latest/dist/material-components-web.min.js"></script>
    
</head>
<body>
    <div>
    <script src="https://www.google.com/recaptcha/api.js"></script>
    <div>
        <h2>Customer Login</h2>
    </div>

    <button class="foo-button mdc-button">
        <div class="mdc-button__ripple"></div>
        <span class="mdc-button__label">Button</span>
      </button>


    <div th:if="${param.error}">
        <p class="text-danger">Error message</p>
    </div>

    <div th:if="${param.otp}">
        <p class="text-danger">
            For security reason, we've sent an One-Time-Password (OTP)
            to your email [[${param.email}]]<br/>
            Kindly check your email and use the provided OTP to login.<br>
            Note: The OTP will expire after 5 minutes.
        </p>
    </div>   
    <div th:if="${param.logout}">
        <p class="text-warning">You have been logged out.</p>
    </div>
     
    <div th:if="${message != null}">
        <p class="text-primary">[[${message}]]</p>
    </div>   
             
    <form th:action="@{/login}" method="post" style="max-width: 350px; margin: 0 auto;" id="LoginForm">
    <div class="border border-secondary rounded p-3">
        <div>
            <p>
                <input type="username" name="username" class="form-control"
                    placeholder="username" th:value="${param.username}" autofocus/>
            </p>
            <p>
                <input type="password" name="password" class="form-control"
                    th:placeholder="${param.otp != null ? 'Your One Time Password' : 'Password'}" />
            </p>
            <!-- <p class="text-center">
                <input type="submit" value="Login" class="btn btn-primary" />
            </p> -->
            <button class="g-recaptcha btn btn-primary"
                data-sitekey="6Lep2nojAAAAACBChyFzpMkR3klSGDhUGT3dUkpD"
                data-callback="onSubmit"
                data-action="submit"
            >login</button>
        </div>
    </div>
    </form>
    </div>
    
</body>
<script type="text/javascript">
    function onSubmit(token){
        document.getElementById("LoginForm").submit();
    }
</script>
</html>